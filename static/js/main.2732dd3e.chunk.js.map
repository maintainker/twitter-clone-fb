{"version":3,"sources":["fbase.js","components/AuthFrom.js","routes/Auth.js","components/Nweet.js","components/NweetFactory.js","routes/Home.js","components/Navigation.js","routes/Profile.js","components/Router.js","components/App.js","index.js"],"names":["firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","authService","dbService","storageService","AuthForm","useState","email","setEmail","password","setPassword","newAccout","setNewAcount","error","setError","onChange","e","target","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","data","signInWithEmailAndPassword","console","log","message","className","type","placeholder","required","onClick","prev","Auth","onSocialClick","provider","auth","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","icon","faTwitter","color","size","style","marginBottom","faGoogle","faGithub","Nweet","nweetObj","isOwner","editing","setEditing","text","newNweet","setNewNweet","onDeleteClick","window","confirm","doc","id","delete","refFromURL","attachmentUrl","toggleEditClick","update","autoFocus","src","alt","faTrash","faPencilAlt","NweetFactory","userObj","nweet","setNweet","attachment","setAttachment","attachmentRef","ref","child","uid","uuidv4","putString","response","getDownloadURL","createdAt","Date","now","creatorId","collection","add","maxLength","htmlFor","faPlus","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","result","currentTarget","readAsDataURL","opacity","backgroundImage","faTimes","Home","nweets","setNweets","useEffect","onSnapshot","snapshot","nweetArr","docs","map","marginTop","key","Navigation","display","justifyContent","to","marginRight","marginLeft","flexDirection","alignItems","fontSize","faUser","displayName","refreshUser","histroy","useHistory","newDisplayName","setDisplayName","getMyNweets","where","orderBy","get","updateProfile","signOut","push","AppRouter","isLoggedIn","maxWidth","width","margin","exact","path","Profile","from","App","init","setInit","currentUser","setIsLoggedIn","setUserObj","onAuthStateChanged","user","arg","getFullYear","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2732dd3e.chunk.js","sourcesContent":["import * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport 'firebase/storage';\n\nconst firebaseConfig = {\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n    databaseURL: process.env.REACT_APP_APP_DATABASE_URL,\n    projectId: process.env.REACT_APP_APP_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_MESSAGEIN_ID,\n    appId: process.env.REACT_APP_APP_ID\n  };\n\n\nfirebase.initializeApp(firebaseConfig);\nexport const firebaseInstance = firebase;\nexport const authService = firebase.auth();\nexport const dbService = firebase.firestore();\nexport const storageService = firebase.storage();\n","import React, { useState } from 'react';\nimport { authService } from 'fbase';\n\nconst inputStyle = {};\n\nconst AuthForm = () =>{\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [newAccout, setNewAcount] = useState(true);\n    const [error, setError] =useState(\"\");\n\n    const onChange = (e) =>{\n        const {target:{name,value}} = e;\n        if(name === \"email\"){\n            setEmail(value);\n        }else if(name === \"password\"){\n            setPassword(value);\n        }\n    }\n    const onSubmit = async e =>{\n        e.preventDefault();\n        try{\n            let data;\n            if(newAccout){\n                data = await authService.createUserWithEmailAndPassword(email,password);\n            }else{\n                data = await authService.signInWithEmailAndPassword(email,password);\n            }\n            console.log(data);\n        }catch(e){\n            setError(e.message)\n            console.log(\"error\", e.message);\n        }\n    }\n\n    const toggleAccount = () =>{\n        setNewAcount(prev => !prev)\n    }\n    return(\n    <>    \n        <form onSubmit ={onSubmit} className=\"container\">\n            <input type=\"email\" className=\"authInput\" name=\"email\" placeholder=\"Email\" required value={email} onChange={onChange}/>\n            <input type=\"password\" className=\"authInput\" name=\"password\" placeholder=\"Password\" required value={password} onChange={onChange}/>\n            <input type=\"submit\" className=\"authInput authSubmit\" value={newAccout? \"Create Account\": \"Log In\"}/>\n            {error && <span className=\"authError\">{error}</span>}\n        </form>\n        <span onClick={toggleAccount} className=\"authSwitch\">{newAccout? \"Lon in\": \"Create Account\"}</span>\n    </>)\n}\n\nexport default AuthForm;","import React from 'react';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faTwitter,faGoogle,faGithub} from \"@fortawesome/free-brands-svg-icons\";\nimport { authService,firebaseInstance } from 'fbase';\nimport AuthForm from 'components/AuthFrom';\nconst Auth =  () => {\n    const onSocialClick = async (e)=>{\n        const {target:{name}} = e;\n        let provider ;\n        if(name === \"google\"){\n            provider = new firebaseInstance.auth.GoogleAuthProvider();\n        }else if(name === \"github\"){\n            provider = new firebaseInstance.auth.GithubAuthProvider();\n        }\n        await authService.signInWithPopup(provider);\n    }\n    return (\n    <div className=\"authContainer\">\n        <FontAwesomeIcon icon={faTwitter} color={\"#04AAFF\"} size=\"3x\" style={{marginBottom:30}} />\n        <AuthForm />\n        <div className=\"authBtns\">\n            <button className=\"authBtn\" onClick={onSocialClick} name=\"google\">Continue With Google<FontAwesomeIcon icon={faGoogle} /></button>\n            <button className=\"authBtn\" onClick={onSocialClick} name=\"github\">Continue With Github<FontAwesomeIcon icon={faGithub} /></button>\n        </div>\n    </div>);\n}\n\n \nexport default Auth;","import React, { useState } from 'react';\nimport { dbService, storageService } from 'fbase';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faTrash, faPencilAlt} from \"@fortawesome/free-solid-svg-icons\";\n\nconst Nweet = ({nweetObj,isOwner}) =>{\n    console.log(\"isOwner\",isOwner)\n    const [editing ,setEditing] =useState(false);\n    const [newNweet, setNewNweet] = useState(nweetObj.text);\n    const onDeleteClick = async () =>{\n        const ok = window.confirm(\"Are you sure you want to delete this nweet?\")\n        if(ok){\n            await dbService.doc(`nweets/${nweetObj.id}`).delete();\n            await storageService.refFromURL(nweetObj.attachmentUrl).delete();\n        }\n    }\n    const toggleEditClick = () =>setEditing(prev => !prev);\n    const onChangeNewNweet = (e) =>{\n        const {target:{value}} = e;\n        setNewNweet(value);\n    }\n    const onSubmit =async (e)=>{\n        e.preventDefault();\n        await dbService.doc(`nweets/${nweetObj.id}`).update({\n            text:newNweet\n        })\n        setEditing(false);\n    }\n    return(\n    <div className='nweet'>{\n        editing? (\n        <>\n            <form onSubmit={onSubmit} className=\"container nweetEdit\">\n                <input type=\"text\" autoFocus className=\"formInput\" placeholder=\"What is your nweet?\" onChange={onChangeNewNweet} value={newNweet} required/>\n                <input type=\"submit\" value=\"Update Nweet\" className=\"formBtn\"/>\n            </form>\n            <button onClick={toggleEditClick} className=\"formBtn cancelBtn\">Cancel</button>\n        </>\n        ):(\n        <>\n            <h4>{nweetObj.text}</h4>\n            {nweetObj.attachmentUrl && <img src={nweetObj.attachmentUrl} alt=\"느위트 사진\"/>}\n            {isOwner &&\n            <div className=\"nweet__actions\">\n                <span onClick={onDeleteClick}>\n                    <FontAwesomeIcon icon={faTrash} />\n                </span>\n                <span onClick={toggleEditClick}>\n                    <FontAwesomeIcon icon={faPencilAlt} />\n                </span>\n            </div>}\n        </>       \n    )}\n    </div>\n    );\n}\nexport default Nweet;","import React,{useState} from 'react';\nimport { dbService, storageService } from 'fbase';\nimport {v4 as uuidv4} from \"uuid\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faPlus, faTimes} from \"@fortawesome/free-solid-svg-icons\";\n\nconst NweetFactory = ({userObj}) =>{\n    const [nweet, setNweet] = useState(\"\");\n    const [attachment,setAttachment] = useState(\"\");\n    \n    const onSubmit = async (e) =>{\n        if(nweet === \"\"){\n            return ;\n        }\n    \n        e.preventDefault();\n        let attachmentUrl =\"\";\n        if(attachment !== \"\"){\n            const attachmentRef = storageService.ref().child(`${userObj.uid}/${uuidv4()}`);\n            const response = await attachmentRef.putString(attachment,\"data_url\");\n            attachmentUrl = await response.ref.getDownloadURL();\n        }\n        const nweetObj ={\n            text:nweet,\n            createdAt : Date.now(),\n            creatorId :userObj.uid,\n            attachmentUrl\n        }\n        await dbService.collection(\"nweets\").add(nweetObj);\n        setNweet(\"\");\n        setAttachment(\"\");\n    }\n    const onChange = (e) =>{\n        const {target:{value}} = e;\n        setNweet(value);\n    }\n    const onFileChange = (e) =>{\n        const {target:{files}} = e;\n        const theFile = files[0]\n        console.log(theFile)\n        const reader = new FileReader();\n        reader.onloadend = (finishedEvent) =>{\n            const{currentTarget:{result}} = finishedEvent;\n            setAttachment(result)\n        }\n        reader.readAsDataURL(theFile)\n    }\n    const onClearAttachment = () => setAttachment(\"\");\n    return (\n    <form onSubmit={onSubmit} className=\"factoryForm\">\n        <div className=\"factoryInput__container\">\n            <input className=\"factoryInput__input\" value={nweet} onChange={onChange} type=\"text\" placeholder=\"What's on your mind?\" maxLength={120}/>\n            <input type=\"submit\" value=\"&rarr;\" className=\"factoryInput__arrow\"/>\n        </div>\n        <label htmlFor=\"attach-file\" className=\"factoryInput__label\">\n            <span>Add photo</span>\n            <FontAwesomeIcon icon={faPlus} />\n        </label>\n        <input id=\"attach-file\" type=\"file\" accept=\"image/*\" onChange={onFileChange} style={{opacity:0,}} />\n        {attachment&&(\n        <div className=\"factoryForm__attachment\">    \n            <img src={attachment} alt=\"임시사진\" style={{backgroundImage: attachment,}}/>\n            <div className=\"factory__clear\" onClick={onClearAttachment}>\n                <span>Remove</span>\n                <FontAwesomeIcon icon={faTimes} />\n            </div>\n        </div>\n        )}\n    </form>)\n}\n\nexport default NweetFactory;\n","import { dbService } from 'fbase';\nimport React, { useState, useEffect } from 'react';\nimport Nweet from 'components/Nweet';\nimport NweetFactory from 'components/NweetFactory';\n\nconst Home = ({userObj}) =>{\n    const [nweets,setNweets] = useState([]);\n    useEffect(() => {\n        dbService.collection(\"nweets\").onSnapshot((snapshot)=>{\n            const nweetArr = snapshot.docs.map(doc=>({id:doc.id,...doc.data()}))\n            setNweets(nweetArr)\n        })\n    }, [])\n    return ( \n    <div className=\"container\">\n        <NweetFactory userObj={userObj}/>\n        <div style={{marginTop:30}}>\n            {nweets.map(nweet=>(\n                <Nweet key={nweet.id} nweetObj={nweet} isOwner={nweet.creatorId===userObj.uid}/>\n            ))}\n        </div>\n    </div>)}\n\n\n export default Home;","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faTwitter} from '@fortawesome/free-brands-svg-icons';\nimport {faUser} from \"@fortawesome/free-solid-svg-icons\";\nconst Navigation = ({userObj}) =>{\n    return (<nav style={{ display:\"flex\",justifyContent:\"center\", marginTop:\"50\"}}>\n        <ul style={{display:\"flex\", justifyContent:\"center\", marginTop:50}}>\n            <li>\n                <Link to=\"/\" style={{marginRight:10}}>\n                    <FontAwesomeIcon icon={faTwitter} color={\"#04AAFF\"} size=\"2x\" />\n                </Link>\n            </li>\n            <li>\n                <Link to=\"/profile\" style={{marginLeft:10, display:\"flex\", flexDirection: \"column\", alignItems:\"center\", fontSize:\"12\"}}>\n                    <FontAwesomeIcon icon={faUser} color={\"#04AAFF\"} size=\"2x\" />\n                    <span style={{marginTop:10}}>\n                        {\n                            userObj && userObj.displayName?\n                            `${userObj.displayName}의 프로필`:\"Profile\"\n                        }\n                    </span>\n                </Link>\n            </li>\n        </ul>    \n    </nav>);\n}\n\nexport default Navigation;","import { authService, dbService } from 'fbase';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nexport default ({refreshUser,userObj}) => {\n    const histroy = useHistory ();\n    const [newDisplayName, setDisplayName] =useState(userObj.displayName? userObj.displayName:\"\")\n    const onLogOutClick = () => {\n        authService.signOut();\n        histroy.push(\"/\");\n    };\n    const onChange =(e)=>{\n        const {target:{value}}= e;\n        setDisplayName(value);\n    }\n    const getMyNweets = async () =>{\n        const nweets = await dbService.collection(\"nweets\")\n        .where(\"creatorId\",\"==\",userObj.uid)\n        .orderBy(\"createdAt\")\n        .get();\n        console.log(nweets.docs.map(doc=>doc.data()))\n    }\n    useEffect(()=>{\n        getMyNweets();\n    },[]);\n    const onSubmit = async (e)=>{\n        e.preventDefault()\n        if(userObj.displayName !== newDisplayName){\n            await userObj.updateProfile({\n                displayName :newDisplayName\n            })\n        }\n        refreshUser();\n    }\n    return (\n    <div className=\"container\">\n        <form onSubmit={onSubmit} className=\"profileForm\">\n            <input type=\"text\" className=\"formInput\" autoFocus value={newDisplayName} onChange={onChange} placeholder=\"Display name\" />\n            <input type=\"submit\" className=\"formBtn\" style={{marginTop:10}} value=\"Update Profile\" />\n        </form>\n        <span className=\"formBtn cancelBtn logOut\" onClick={onLogOutClick}>Log Out</span>\n    </div>);\n}","import React from 'react';\nimport {HashRouter as Router, Redirect, Route, Switch} from \"react-router-dom\";\nimport Auth from 'routes/Auth';\nimport Home from 'routes/Home';\nimport Navigation from 'components/Navigation';\nimport Profile from 'routes/Profile';\n\nconst AppRouter =  ({refreshUser,isLoggedIn,userObj})=>{\n    return(\n    <Router>\n        {isLoggedIn && <Navigation userObj={userObj}/>}\n        <Switch>\n            {isLoggedIn?\n            <div style={{\n                maxWidth:890,\n                width:\"100%\",\n                margin: \"80 auto 0\",\n                display:\"flex\",\n                justifyContent:\"center\"\n            }}> \n                <Route exact path=\"/\">\n                    <Home userObj={userObj}/>\n                </Route>\n                <Route exact path=\"/profile\">\n                    <Profile userObj={userObj} refreshUser={refreshUser}/>\n                </Route>\n                <Redirect from=\"*\" to=\"/\" />\n            </div>:\n            <>\n                <Route exact path=\"/\">\n                    <Auth/>    \n                </Route>\n                {/* <Redirect from=\"*\" to=\"/\" /> */}\n            </>}\n        </Switch>\n    </Router>)\n}\n\nexport default AppRouter","import React,{ useState, useEffect } from 'react';\nimport AppRouter from 'components/Router';\nimport {authService} from 'fbase';\n\nfunction App() {\n    const [init,setInit] = useState(false);\n    const [isLoggedIn, setIsLoggedIn] = useState(authService.currentUser);\n    const [userObj, setUserObj] = useState(null);\n    useEffect(() => {\n      authService.onAuthStateChanged((user)=>{\n        console.log(user)\n        if(user){\n          setIsLoggedIn(true);\n          setUserObj({\n            displayName : user.displayName,\n            uid:user.uid,\n            updateProfile: (arg) => user.updateProfile(arg)\n          });\n        }else{\n          setUserObj(null);\n          setIsLoggedIn(false);\n        }\n        setInit(true)\n      })\n    }, [])\n    const refreshUser = () =>{\n      const user = authService.currentUser;\n      setUserObj({\n        displayName : user.displayName,\n        uid:user.uid,\n        updateProfile: (arg) => user.updateProfile(arg)\n      });\n    }\n  return (\n  <>\n    {init? <AppRouter refreshUser={refreshUser} isLoggedIn ={isLoggedIn} userObj ={userObj}/> : \"Initializing....\"}\n    <footer>&copy; {new Date().getFullYear()} Nwitter</footer>\n  </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport \"./styles.css\";\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}